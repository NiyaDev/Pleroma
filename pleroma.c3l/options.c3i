
module pleroma::options;
import std::collections;


alias Options = HashMap{String, Option};

struct Option {
  OptionType type;
  union {
    short as_short;
    int as_int;
    long as_long;
    float as_float;
    double as_double;
    int[] as_array;
  }
}

enum OptionType {
  SHORT,
  INT,
  LONG,
  FLOAT,
  DOUBLE,
  ARRAY,
}

faultdef INVALID_ENTRY;

extern fn Option? new(any) @extern("options_new");

